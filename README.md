# AuthHTTP

AuthHTTP - это приложение на языке C++, которое является адаптером для сервера ejabberd и позволяет реализовать внешнюю аутентификацию по протоколу HTTP.

## Описание

AuthHTTP предназначен для интеграции с сервером ejabberd и обработки запросов аутентификации через HTTP. Он предоставляет гибкое и настраиваемое решение для проверки подлинности пользователей с использованием внешнего HTTP-сервиса.

Приложение считывает команды из стандартного ввода в формате AABBBBBBBBB, где A - 2 байта данных длины (short в сетевом порядке байтов), а B - строка, содержащая операцию и ее аргументы. Поддерживаемые операции включают `auth`, `isuser`, `setpass`, `tryregister`, `removeuser` и `removeuser3`.

AuthHTTP взаимодействует с внешним HTTP-приложением, указанным в конфигурационном файле `auth.conf`, для выполнения аутентификации и других операций. Для отправки HTTP-запросов используется библиотека libcurl.

## Предварительные требования

- C++11 или выше
- Библиотека libcurl

## Начало работы

1. Клонируйте репозиторий:

> git clone https://github.com/denser-ru/EjabberdHTTPAuthAdapterCPP.git


2. Соберите приложение с помощью предоставленного Makefile:

> make


3. Создайте конфигурационный файл `auth.conf` и укажите URL внешнего HTTP-приложения.

4. Запустите приложение:

> ./auth_http


5. Настройте ejabberd для использования AuthHTTP в качестве внешнего метода аутентификации в соответствии с документацией ejabberd.

## Конфигурация

Файл `auth.conf` содержит параметры конфигурации для AuthHTTP. Он должен находиться в том же каталоге, что и исполняемый файл. Файл должен иметь следующий формат:

Конфигурация AuthHTTP
URL внешнего HTTP-приложения

URL = http://localhost:8080/auth [прочие параметры конфигурации...]

Измените параметр `URL` в соответствии с URL вашего внешнего HTTP-приложения.

## Лицензия

Этот проект лицензируется в соответствии с лицензией MIT. См. файл [LICENSE](LICENSE) для получения дополнительной информации.

## Внесение вклада

Вклады приветствуются! Вы можете создавать задачи (issues) или отправлять запросы на внесение изменений (pull request) для улучшения AuthHTTP.

## Поддержка

Если у вас возникли проблемы или у вас есть вопросы, пожалуйста, создайте задачу (issue) в [репозитории на GitHub](https://github.com/denser-ru/EjabberdHTTPAuthAdapterCPP).

## Благодарности

AuthHTTP вдохновлен документацией ejabberd и потребностью в гибком внешнем методе аутентификации.
